(window.webpackJsonpweatherapp=window.webpackJsonpweatherapp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},20:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),i=(n(20),n(1)),u=function(){return a.a.createElement("svg",{width:"150px",height:"150px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"lds-blank"},a.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-r":"{{config.r3}}","ng-attr-stroke":"{{config.c3}}","ng-attr-stroke-width":"{{config.width}}",r:"46",stroke:"#fcb711",strokeWidth:"5"},a.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"0 0 0 144.51326206513048 0 144.51326206513048;0 0 144.51326206513048 0 0 144.51326206513048;0 0 144.51326206513048 0 0 144.51326206513048;0 144.51326206513048 0 144.51326206513048 0 144.51326206513048;0 144.51326206513048 0 144.51326206513048 0 144.51326206513048",keyTimes:"0;0.2;0.4;0.6;1",dur:"1",begin:"-1s",repeatCount:"indefinite"})),a.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-r":"{{config.r2}}","ng-attr-stroke":"{{config.c2}}","ng-attr-stroke-width":"{{config.width}}",r:"40",stroke:"#f37021",strokeWidth:"5"},a.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"0 0 0 125.66370614359172 0 125.66370614359172;0 0 125.66370614359172 0 0 125.66370614359172;0 0 125.66370614359172 0 0 125.66370614359172;0 125.66370614359172 0 125.66370614359172 0 125.66370614359172;0 125.66370614359172 0 125.66370614359172 0 125.66370614359172",keyTimes:"0;0.2;0.4;0.6;1",dur:"1",begin:"-0.92s",repeatCount:"indefinite"})),a.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-r":"{{config.r1}}","ng-attr-stroke":"{{config.c1}}","ng-attr-stroke-width":"{{config.width}}",r:"34",stroke:"#cc004c",strokeWidth:"5"},a.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"0 0 0 106.81415022205297 0 106.81415022205297;0 0 106.81415022205297 0 0 106.81415022205297;0 0 106.81415022205297 0 0 106.81415022205297;0 106.81415022205297 0 106.81415022205297 0 106.81415022205297;0 106.81415022205297 0 106.81415022205297 0 106.81415022205297",keyTimes:"0;0.2;0.4;0.6;1",dur:"1",begin:"-0.84s",repeatCount:"indefinite"})),a.a.createElement("g",{transform:"rotate(180 50 50)"},a.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-r":"{{config.r3}}","ng-attr-stroke":"{{config.c3}}","ng-attr-stroke-width":"{{config.width}}",r:"46",stroke:"#fcb711",strokeWidth:"5"},a.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"0 0 0 144.51326206513048 0 144.51326206513048;0 0 144.51326206513048 0 0 144.51326206513048;0 0 144.51326206513048 0 0 144.51326206513048;0 144.51326206513048 0 144.51326206513048 0 144.51326206513048;0 144.51326206513048 0 144.51326206513048 0 144.51326206513048",keyTimes:"0;0.2;0.4;0.6;1",dur:"1",begin:"-0.43999999999999995s",repeatCount:"indefinite"})),a.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-r":"{{config.r2}}","ng-attr-stroke":"{{config.c2}}","ng-attr-stroke-width":"{{config.width}}",r:"40",stroke:"#f37021",strokeWidth:"5"},a.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"0 0 0 125.66370614359172 0 125.66370614359172;0 0 125.66370614359172 0 0 125.66370614359172;0 0 125.66370614359172 0 0 125.66370614359172;0 125.66370614359172 0 125.66370614359172 0 125.66370614359172;0 125.66370614359172 0 125.66370614359172 0 125.66370614359172",keyTimes:"0;0.2;0.4;0.6;1",dur:"1",begin:"-0.52s",repeatCount:"indefinite"})),a.a.createElement("circle",{cx:"50",cy:"50",fill:"none","ng-attr-r":"{{config.r1}}","ng-attr-stroke":"{{config.c1}}","ng-attr-stroke-width":"{{config.width}}",r:"34",stroke:"#cc004c",strokeWidth:"5"},a.a.createElement("animate",{attributeName:"stroke-dasharray",calcMode:"linear",values:"0 0 0 106.81415022205297 0 106.81415022205297;0 0 106.81415022205297 0 0 106.81415022205297;0 0 106.81415022205297 0 0 106.81415022205297;0 106.81415022205297 0 106.81415022205297 0 106.81415022205297;0 106.81415022205297 0 106.81415022205297 0 106.81415022205297",keyTimes:"0;0.2;0.4;0.6;1",dur:"1",begin:"-0.64s",repeatCount:"indefinite"}))))},l=n(2);function s(){var e=Object(l.a)(["\n      background: #f37021;\n      color: white;\n    "]);return s=function(){return e},e}function f(){var e=Object(l.a)(["\n  font-size: 3rem;\n  margin: 0 0 0.4em 0;\n\n\n  /* ","; */\n"]);return f=function(){return e},e}var d=i.c.h2(f(),(function(e){return e.primary&&Object(i.b)(s())}));function m(){var e=Object(l.a)(["\n  max-width: 550px;\n  font-size: 1rem;\n"]);return m=function(){return e},e}var g=i.c.div(m()),h=function(e){var t=e.error;return a.a.createElement("div",null,a.a.createElement(d,null,"Error"),a.a.createElement(g,null,t))};function p(){var e=Object(l.a)(["\n  background: ",";\n  border-radius: 4px;\n  border: 2px solid #f37021;\n  color: ",";\n  margin: 0 1em;\n  padding: 0.25em 1em;\n  cursor: pointer;\n"]);return p=function(){return e},e}var b=i.c.button(p(),(function(e){return e.primary?"#f37021":"transparent"}),(function(e){return e.primary?"#282c34":"#f37021"}));function v(){var e=Object(l.a)(["\n"]);return v=function(){return e},e}var w=i.c.form(v());function k(){var e=Object(l.a)(["\n  padding: 7px;\n  border-radius: 4px;\n\n  &:focus { \n    outline: none;\n  }\n"]);return k=function(){return e},e}var y=i.c.input(k()),E=n(3),x=function(e){var t=Object(r.useState)(""),n=Object(E.a)(t,2),a=n[0],c=n[1];return{handleSubmit:function(t){t&&t.preventDefault(),e()},handleInputChange:function(e){e.persist(),c(e.target.value)},input:a}};function j(){var e=Object(l.a)(["\n  font-weight: bold;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  margin: 0;\n  font-size: 15px;\n"]);return j=function(){return e},e}function O(){var e=Object(l.a)(["\n  font-weight: bold;\n  flex-grow:2;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  padding: 14px;\n  border: 2px solid #f37021;\n  border-right: none;\n  font-size: 15px;\n"]);return O=function(){return e},e}function C(){var e=Object(l.a)(["\n  display:flex;\n  flex-direction:row;\n  margin: 20px auto 0;\n"]);return C=function(){return e},e}var S=Object(i.c)(w)(C()),N=Object(i.c)(y)(O()),M=Object(i.c)(b)(j()),W=function(e){var t=x((function(){e.onFormSubmit(n)})),n=t.input,r=t.handleInputChange,c=t.handleSubmit;return a.a.createElement(S,{onSubmit:c},a.a.createElement(N,{type:"text",value:n,onChange:r,placeholder:"Enter your city",required:!0}),a.a.createElement(M,{primary:!0,type:"submit",value:"Submit"},"Submit"))};function z(){var e=Object(l.a)(["\n"]);return z=function(){return e},e}var T=i.c.img(z());function U(){var e=Object(l.a)(["\n  font-size: 4rem;\n  font-weight: bold;\n  color: #f37021;\n"]);return U=function(){return e},e}var I=i.c.div(U()),B=function(e){var t=e.weather;return a.a.createElement("div",null,a.a.createElement(d,null,t.data.name),a.a.createElement(I,null,Math.round(t.data.main.temp),"\xb0C"),a.a.createElement(T,{src:"http://openweathermap.org/img/wn/".concat(t.data.weather[0].icon,"@2x.png"),alt:t.data.weather[0].main}))},F=n(4),P=n.n(F),J=n(8);var L=function(){var e=Object(r.useState)(),t=Object(E.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(E.a)(c,2),i=o[0],u=o[1],l=Object(r.useState)(),s=Object(E.a)(l,2),f=s[0],d=s[1];function m(){return(m=Object(J.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,new Promise(function(){var e=Object(J.a)(P.a.mark((function e(n,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){console.log(typeof Number(e.cod),Number(e.cod)),Number(e.cod)>400&&(d(e.message),r(e.message)),n(e),a(e)})).catch((function(e){console.log("error from catch:",e.message),d("Cannot connect to server to get your data. Please try again it later."),r(e)}));case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{data:n,loading:i,error:f,fetchUrl:function(e){return m.apply(this,arguments)},clear:function(){d(""),a("")},setLoading:u}};var R=function(){var e=L(),t=L();function n(n){var r=encodeURIComponent(n);e.clear(),t.clear(),t.fetchUrl("api/weather?city=".concat(r))}if(Object(r.useEffect)((function(){e.fetchUrl("/api/current-location").then((function(e){t.fetchUrl("api/weather?city=".concat(e.city,"&country=").concat(e.country_code))})).catch((function(e){return console.log("Promise rejected with error",e)}))}),[]),t.error||e.error){var c=t.error?t.error:e.error;return console.log("Error",c),a.a.createElement("div",null,a.a.createElement(h,{error:c}),a.a.createElement(W,{onFormSubmit:n}))}return t.loading||e.loading?a.a.createElement(u,{src:"/spinner.svg",alt:"Loading"}):t.data?a.a.createElement("div",null,a.a.createElement(B,{weather:t}),a.a.createElement(W,{onFormSubmit:n})):""};function q(){var e=Object(l.a)(["\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  text-align: center;\n  color: white;\n"]);return q=function(){return e},e}var A=i.c.header(q()),D={};var Y=function(){return a.a.createElement(i.a,{theme:D},a.a.createElement(A,null,a.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.4c860a8d.chunk.js.map